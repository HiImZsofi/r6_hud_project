<!DOCTYPE html>
<html>
<title>R6 HUD Home</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--   <iframe allow="autoplay;camera" src="https://vdo.ninja/?view=7fDjacc&label=proba" width="1920" height="1080"></iframe> -->
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>

<body style="overflow: hidden; height: 100%; background-color: rgb(29, 25, 52)">
  <div id="container" width=100% style="font-size: 50px; color: white; text-alignment: center; ">
    <div class="input_div" style="margin: auto; width: 70%; text-alignment: center">
      <p>Csapat hozzáadása</p>
      <div class="" style="margin: auto">
        <input type="text" id="team_name_field" value="Csapatnév">
        <input type="text" id="shorthandle_field" value="Rövidítés">
        <input type="text" id="logopath_field" value="Logó elérés">
        <button style="" type="button" id="team_save">SAVE</button>
      </div>

    </div>
    <div class="input_div" style="margin: auto; width: 70%; text-alignment: center">
      <p>Játékos hozzáadása</p>
      <div class="" style="margin: auto">
        <input type="text" id="nickname_field" value="Nick">
        <input type="text" id="fullname_field" value="Teljes név">
        <input type="text" id="nationality_field" value="Nemzetiség">
        <input type="text" id="con_link_field" value="Connect link">
        <input type="text" id="view_link_field" value="View link">
        <input type="text" id="avatar_field" value="Avatar elérés">
        <!-- Input list team shorthandle queryvel feltöltve -->

        <select id="player_team_select">

        </select>

        <button style="" type="button" id="player_save">SAVE</button>
      </div>

    </div>

  </div>

</body>

<script>

  $(document).ready(function () {
  const ws = new WebSocket("ws://localhost:6969");

  ws.addEventListener("open", () =>{
    console.log("Connected!");
  });

/* MESSAGE-RE REAKCIÓ

  ws.onmessage = function(e){
    var server_message = e.data;
    console.log(server_message);
    if (server_message == "egy") {
      $('#container').hide();
    }
    else if (server_message == "ketto") {
      $('#container').show();
    }
  }
  */

  $("#team_save").click(function(){
      //sql_send();
      //location.reload();
  });

  $("#player_team_select").click(function(){
    request.post(
  'localhost:8083',
  { json: { key: 'value' } },
  function (error, response, body) {
      if (!error && response.statusCode == 200) {
          console.log(body);
      }
  }
);
  });

  function sql_send(){
    var team = "'" + $('#team_name_field').val() + "'";
    var handle = "'" + $('#shorthandle_field').val() + "'";
    var logo = "'" + $('#logopath_field').val() + "'";
    ws.send("INSERT INTO TEAMS (teamname, shorthandle, logo) VALUES (" + team + ", " + handle + ", " + logo + ");");
  }

  ws.onmessage = function(e){
    var server_message = e.data;
    console.log(server_message);
  }

});





</script>

</html>
